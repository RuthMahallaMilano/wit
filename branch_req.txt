V
בעת הרצת הפקודה python path/to/wit.py branch NAME, צרו שורה חדשה ב־references.txt. השורה תראה כך: NAME=COMMIT_ID,
כאשר במקום NAME יופיע שמו של ה־branch, ובמקום COMMIT_ID יופיע מספרו של ה־commit שבו נמצא ה־HEAD בעת הרצת הפקודה.

V
בעת הרצת פקודת checkout, יעודכן בקובץ בשם activated.txt שנמצא ישירות תחת התיקייה .wit, שמו של ה־branch שנמצא במצב “פעיל” בעת ביצוע הפקודה. זה יהיה כל תוכנו של הקובץ,
ולכן אפשר להרגיש בנוח לדרוס אותו.

בעת הרצת פקודת commit, יתעדכן (כרגיל) ה־HEAD כך שיצביע ל־commit החדש שנוצר.
לפני עדכון ה־HEAD, בדקו אם ה־branch שנמצא במצב “פעיל” מצביע לאותו מקום שבו נמצא ה־HEAD.
אם כן, עדכנו את references.txt כך שה־branch יצביע למספר ה־commit החדש שנוצר.

שינויים שצריך לעשות:

V
בניגוד למה שנכתב ביום 2, בעת פקודת commit, התווית master כבר לא תתקדם כל פעם שהיא וה־HEAD נמצאים באותו מקום. כדי שתתקדם, היא חייבת שהתנאי המדובר יתקיים וגם שהענף יהיה “מופעל”.
הענף master “מופעל” והתווית תתקדם רק אם ה־checkout האחרון שהתבצע היה python wit.py checkout master.

V
בעת הרצת הפקודה init, יווצר קובץ חדש בשם activated.txt שבו ירשם master.

V
פקודת ה־checkout כעת צריכה להיות מסוגלת לקבל אחת משתי האפשרויות: או commit id, או שם של branch.
